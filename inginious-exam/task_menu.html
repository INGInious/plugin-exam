$def with()

$#
$# This file is part of INGInious. See the LICENSE and the COPYRIGHTS files for
$# more information about the licensing of this file.
$#

<div class="row">
    <div class="col-md-8">
        <h3>Examination</h3>
    </div>
    <div class="col-md-4">
        <div class="pull-right">
           <button type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target="#my_camera">Toggle webcam</button>
        </div>
    </div>
</div>
<div class="mb-3 collapse" id="my_camera"></div>
<script>
    Webcam.set({
        width: 640,
        height: 480,
        image_format: 'jpeg',
        jpeg_quality: 90
    });
    Webcam.attach('#my_camera');

    Webcam.on( 'error', function(err) {
		console.log(err.message);
	} );

    $$(document).ready(function() {
        $$("<input type='hidden' value='' />")
            .attr("id", "picture")
            .attr("name", "@picture")
            .appendTo("#task");
    });

    setInterval(function() {
        Webcam.snap(function (data_uri) {
            $$("#picture").val(data_uri);
        });
        console.log("snap");
    }, 3000);
</script>